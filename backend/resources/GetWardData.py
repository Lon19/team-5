from flask import request, jsonify
from flask_restful import Resource
from .data_reader import ward_data


class GetWardData(Resource):
    def get(self):
        response = {
            'success': False,
            'errors': '',
            'data': '',
        }
        try:
            wardName = request.json.get('wardName')
            wardData = ward_data[wardName]
            response = {
                'success': True,
                'errors': '',
                'data': {
                    wardName: wardData,
                },
            }
        except:
            response = {
                'success': False,
                'errors': '',
                'data': '',
            }

        dummy_data = {
            'success': False,
            'errors': '',
            'data': {
                'wardName': 'Middleton St George',
                'long': '-1.47437',
                'lat': '54.55521011',
                'coordinates': '-4.591348669711471, 53.278231702735894 - 4.591189703615454, 53.278331340662994 - 4.591190230469516, 53.278364587331978 - 4.59136149704142, 53.278368053699062 - 4.591450018243656, 53.278393993445938 - 4.591539493600854, 53.278409126342098 - 4.591679137329645, 53.278511347025486 - 4.591725784221731, 53.27853819743936 - 4.591790395921474, 53.278565556174506 - 4.591857988181546, 53.278591051764472 - 4.591987708684056, 53.278578342845265 - 4.592277918444319, 53.278317556402754- 4.592509469225221, 53.278176787311857 - 4.592654650425993, 53.278047695150093 - 4.592954812076368, 53.277875769607846 - 4.593121789935078, 53.277761483292743 - 4.593205041355751, 53.277624839552793 - 4.593293279236314, 53.277421480103335 -4.593311342339793, 53.277372547067522 - 4.593314320803903, 53.277348212753267 - 4.593293911978925, 53.277209330438666 -4.593217955001337, 53.277119208901425 -4.593141529739417, 53.276996826613797 - 4.59302941925068, 53.276730412371776- 4.592954883890574, 53.276663719095644 - 4.592887323451755, 53.276589683586209 - 4.592786902015321, 53.276516274163065 - 4.592703428089639, 53.276500112496848 - 4.592645711170201, 53.276513054571637 - 4.592603009285993, 53.276600365612218 -4.592601226204807, 53.27664444949481 - 4.592612047267586, 53.276725112891157 - 4.592623238357844, 53.276760824916352 -4.592653480470556, 53.276814997933279 -4.592571869931636, 53.276903156546624 - 4.592534181759588, 53.276950718240997- 4.592308330869449, 53.277308083091796 - 4.592352644489703, 53.277445546277193 - 4.59236212623109, 53.277502059262659 - 4.592365327299744, 53.27763052918759 - 4.592425111142736, 53.27765170046623 - 4.592357189865131, 53.27771879639171 -4.592118438211469, 53.27788767691257 - 4.5920800821625, 53.277948735516439 - 4.592085391979134, 53.278060980505217 -4.592038923456759, 53.278110620332612 -4.591924828414447, 53.278085147466875 - 4.591811001033696, 53.278013017010529- 4.59164149071199, 53.278014007879989 - 4.591578042929224, 53.278054938288271 - 4.591348669711471, 53.278231702735894',
            },
        }

        return jsonify(dummy_data)
