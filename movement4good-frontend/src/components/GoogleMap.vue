

<template>
    <div>

        <gmap-map
                :center="center"
                :zoom="10"
                style="width:100%;  height: 400px;"
        >
            <gmap-polygon
                    v-for="(pin, index) in paths"
                    :key=index
                    :paths=pin.position
                    :options="{fillColor: '#f70539', fillOpacity:0.2}"
            >
            </gmap-polygon>
        </gmap-map>

        <button v-on:click="test">Test</button>
    </div>
</template>

<script>
    /* eslint-disable */
    export default {
        name: 'GoogleMap',
        data() {
            return {
                anfield: `-2.939954855992311,53.432519315680615 -2.940401475318184,53.433254730721913 -2.94072399924835,53.433748314924614 -2.941130231308712,53.434283561294592 -2.941414554687108,53.434620186342414 -2.94202922501639,53.435252634082076 -2.942640074153338,53.43578446446368 -2.942739507590278,53.43585826497609 -2.943345762738247,53.436316351704086 -2.943520010441738,53.436433681553005 -2.943782848177104,53.436611327170247 -2.943947921383835,53.436723337485567 -2.944303864086703,53.436963238718079 -2.94465020126858,53.43716718018328 -2.944968763223322,53.437349863765441 -2.945534173294796,53.43765999265247 -2.946109580779801,53.437944878600639 -2.946799849131373,53.438254011557632 -2.947849251046774,53.438665429854176 -2.94873995731789,53.438983744612408 -2.949726193809203,53.439327353170661 -2.950392400969205,53.439568363545078 -2.950777826956992,53.439702783308221 -2.952473728128821,53.440279838689868 -2.953428137160554,53.440612887050854 -2.955998663917606,53.44151368693818 -2.957304427434998,53.441941032502669 -2.95780933748723,53.442098734339737 -2.958309543157028,53.442245778881031 -2.958922726859629,53.442399013702548 -2.959331309511571,53.442495568433266 -2.959800190826356,53.442590648538086 -2.960356545561612,53.442694909336666 -2.960684501210448,53.442749782683322 -2.961428279024295,53.441951044846853 -2.961872120221605,53.441404531369749 -2.961915773521939,53.441336783649049 -2.961966192081464,53.441167349163244 -2.962091618838276,53.44079063028741 -2.962243561713477,53.440318444628787 -2.962463090110912,53.439508555120668 -2.962596460616618,53.439011357420796 -2.96276324826923,53.438663868110389 -2.962933022267072,53.438448630095991 -2.963119439779911,53.438239458918979 -2.963169045135548,53.438171662694664 -2.963247071375704,53.438092854434643 -2.963335725834093,53.438017465092045 -2.963518075398078,53.437891985536723 -2.963647228641295,53.437812764575888 -2.963750284012474,53.437775989170241 -2.963871435731432,53.437743560190221 -2.964154804736527,53.437694454736615 -2.965101802429765,53.437567291538095 -2.966176838853978,53.437443578629377 -2.966341973904521,53.437424270779232 -2.966580822790561,53.437398973897942 -2.966789392747749,53.437368440319901 -2.96706643265937,53.437308687121195 -2.967300710930784,53.43721333472579 -2.96745888683432,53.437155441119415 -2.967497670251475,53.437070567713633 -2.967658250422897,53.436719616887956 -2.967992477926481,53.43572457197034 -2.968542064828995,53.434278384006539 -2.968654279103719,53.433984436409133 -2.968853717796896,53.433553102748469 -2.9690188666961,53.433267712262726 -2.969203884893235,53.432999323315208 -2.969226038628001,53.4329802726864 -2.970075911997086,53.432228153902145 -2.97041105530911,53.431942278588423 -2.970660040335074,53.431769518749526 -2.971066883090482,53.431526192912443 -2.971347404948935,53.431419672696236 -2.97146861144579,53.431385348752258 -2.971268715773387,53.431332158651529 -2.971253455511333,53.431326891322826 -2.971188504017169,53.431313940017006 -2.971123531539714,53.431305482296359 -2.970088595065902,53.431198870361044 -2.969340211567065,53.431114186543546 -2.968228233889922,53.430997310098626 -2.967580951633712,53.430927072078916 -2.965897852674392,53.430781550488362 -2.965297985936079,53.430678567299985 -2.964658245178309,53.430540856248683 -2.963506957642326,53.430281374846473 -2.962741574895492,53.430113125742388 -2.961375845773393,53.429819407346585 -2.960216787242058,53.429543781736278 -2.959933833184439,53.429476863097399 -2.959940798552727,53.429317753109075 -2.95969318427553,53.429084216809983 -2.959235620406085,53.42861414446714 -2.958502389331138,53.427865016940139 -2.957908174427085,53.427276520655646 -2.957427951065785,53.426801321595832 -2.957274150674562,53.426655092220777 -2.957105219899283,53.426503681470734 -2.95702193776679,53.426414398090934 -2.956959972675214,53.426334917704267 -2.95685262565283,53.426245916914148 -2.956575329673596,53.426092587965925 -2.956489857565378,53.42604384908239 -2.956305016276143,53.425918625547482 -2.956160440801782,53.425779509135005 -2.956035586570718,53.425651108305438 -2.95590161654889,53.425514603291575 -2.955750788178328,53.425362147769945 -2.955528173065304,53.425167941915625 -2.95543592438491,53.425082412418917 -2.95539771091993,53.425054861151388 -2.955312226154518,53.424999831030995 -2.955169930261669,53.424895740806079 -2.95495827066448,53.424786005521987 -2.953761723345869,53.424374026026875 -2.953292735330709,53.424197957027673 -2.951635920820719,53.423592742136421 -2.950415034697276,53.42310453675762 -2.949867915021517,53.422795179733789 -2.949070689272256,53.422269352003411 -2.948208503656901,53.421661361514992 -2.947925878838467,53.421472107926064 -2.947854271597881,53.421432238132624 -2.947785661906531,53.421393242497892 -2.947780986592508,53.421316897580297 -2.947780756711031,53.421239617632637 -2.947776371198317,53.421243247016477 -2.947535781821614,53.421320638740895 -2.947241366408781,53.421410138430097 -2.947037882233237,53.421465668356461 -2.946894307873151,53.421503649136127 -2.946608443701073,53.421576096200873 -2.946295712035755,53.42165675265565 -2.945981516397347,53.421732927321749 -2.945670212096032,53.421810875165569 -2.94547262445857,53.421858267766055 -2.945143351881402,53.421937345200426 -2.944914249451008,53.421990377609802 -2.944727024822774,53.422029599877597 -2.94455026410321,53.422065144544689 -2.944418255662777,53.422087755508407 -2.944244253033427,53.422113392978503 -2.944130280452384,53.42212687414299 -2.943992097692941,53.422139647564293 -2.943774229007484,53.42215664477289 -2.943260481171798,53.422197634913701 -2.94329021051818,53.422245925306441 -2.943379092607033,53.422388104904385 -2.943500444489997,53.422567859153034 -2.943796844721445,53.422494438042989 -2.943868251542002,53.422598203249265 -2.943921235888112,53.422676863538896 -2.943978866590006,53.42276357519939 -2.944059608937123,53.422879847212442 -2.944134275223001,53.422990686705326 -2.944188828171804,53.423072928165915 -2.944265046372883,53.423186540915886 -2.944350657511813,53.423315265912215 -2.944404590864126,53.423302258981956 -2.944421347504794,53.423313808361826 -2.944433540503174,53.423320901217821 -2.944465612554748,53.423340417644617 -2.944608280867418,53.423261109163633 -2.944645555449708,53.423241045490521 -2.944690028842881,53.42321553252966 -2.945024468514339,53.423027682526147 -2.945094322876858,53.422988489138589 -2.945150813311504,53.422956590634008 -2.945196900522985,53.42293106473447 -2.945225218078907,53.422915564329251 -2.945231093512075,53.42291192324484 -2.945501554140364,53.422754232921498 -2.945619797987481,53.422726338181107 -2.94563838460336,53.422753150222007 -2.9456446025999,53.422759391358603 -2.945728602913504,53.422815429564402 -2.945746870691065,53.422827865672559 -2.945800389921228,53.42286338638791 -2.945834010076713,53.422885585920405 -2.945893565830982,53.422924653419173 -2.94591646255802,53.422938850611779 -2.946052310008582,53.423027636814879 -2.946063013655188,53.423034741290984 -2.946220292535993,53.423138723906646 -2.946275302109897,53.423174233484779 -2.946325681369262,53.423207981950796 -2.946447829221647,53.423288788955091 -2.946421144743659,53.42330517558652 -2.946219313057592,53.423429974886758 -2.946151006869684,53.423471851495336 -2.945969937376937,53.423587410054516 -2.945817166318166,53.423686569085518 -2.945608002046725,53.423822208404573 -2.945245896036581,53.424055120358808 -2.945005592905428,53.42421347067657 -2.944901866341089,53.424280789029154 -2.944861752752452,53.424307166491111 -2.944857366680353,53.424310795784919 -2.944768426891203,53.424373503614497 -2.944441009934525,53.424604431183759 -2.944386144242173,53.424642606916606 -2.944098712919924,53.424847158227948 -2.944065987584018,53.424865388966431 -2.943991961889784,53.424918093471106 -2.943891263927322,53.424993475196352 -2.944107105534039,53.425091606380661 -2.944427819405817,53.425235546468777 -2.944668173999693,53.425347860651925 -2.944690848664068,53.425357566254078 -2.944859631269762,53.425431715188246 -2.945025271977549,53.425504090984539 -2.945238040819114,53.425597661205352 -2.945496467666751,53.425713424183513 -2.945663560312882,53.425783990728647 -2.94586697467411,53.42586415436412 -2.946093190470825,53.425954111851077 -2.9462616749594,53.42602017395371 -2.946421126864078,53.426081813909924 -2.946551601609952,53.426129304895355 -2.946838508411003,53.42624205452482 -2.947438208972409,53.426476420455259 -2.948836664287644,53.427034323813473 -2.948911159687493,53.427069677037601 -2.949044272015739,53.427162974025642 -2.949099447780368,53.427211150163146 -2.949165730402261,53.427278918778029 -2.949256938513251,53.427390520424417 -2.949332899007408,53.427486068002082 -2.949492844145215,53.427708641443829 -2.949708790478003,53.428010745453292 -2.950019722181575,53.428387577122386 -2.950491693088157,53.428835106308107 -2.950186138513609,53.428966936442954 -2.950107081589905,53.428999915529289 -2.950051914947479,53.429024616547288 -2.94999556090025,53.429062896309524 -2.949868157039877,53.429153771145188 -2.949819736761999,53.429141575573198 -2.949798505377661,53.429135454096233 -2.949781923690468,53.429131991355561 -2.949765237135161,53.429129428315349 -2.949753223287487,53.429130421801304 -2.9496548663092,53.429171642062194 -2.949631017260005,53.429181715614874 -2.949614675798157,53.429189034673712 -2.949502811614685,53.429236651571742 -2.949487998380403,53.429245755306212 -2.949461067897195,53.429256753085831 -2.949395536826897,53.429284231893988 -2.949311949089076,53.429319942185614 -2.949250845575589,53.429345588892261 -2.949203145616083,53.429365737648808 -2.949189381811852,53.429355063280283 -2.949162634601066,53.429368755246827 -2.94909734191617,53.429412497039735 -2.948984628491522,53.429488875938745 -2.948868936642233,53.42956527839408 -2.948825922568096,53.429595274649223 -2.948784461573132,53.42962256194653 -2.948757814058073,53.42964074558256 -2.948784113394626,53.429673785877092 -2.948865650091737,53.429757697568917 -2.948913281176599,53.429801351222707 -2.948732497434864,53.429924998320047 -2.948640633683397,53.42999042758791 -2.948474419243249,53.430099671083511 -2.948394472880722,53.430020328937196 -2.94836517017222,53.429991716861224 -2.948305263928002,53.42993737669768 -2.948210401463975,53.430001931478749 -2.948075443690865,53.430093852296594 -2.94790351406024,53.430208441912477 -2.947814506620047,53.43026845648285 -2.947701829098164,53.430346720664602 -2.947654108812457,53.430365970116092 -2.947626619811441,53.430346419353526 -2.947609694676906,53.430333074172786 -2.947563550603531,53.430289318310145 -2.94750541288307,53.430247544288974 -2.947378521472975,53.430361865810809 -2.947308007727156,53.430438807369704 -2.947277032492023,53.430463315297956 -2.94719092035053,53.430519711880706 -2.947119926801752,53.430575090561298 -2.947069665656183,53.430614129669607 -2.946948209149627,53.430705043349569 -2.94684631397572,53.430793915130735 -2.946748988234756,53.430881851743329 -2.946695784547735,53.430928103183497 -2.946636747719686,53.430979881236851 -2.946545337483817,53.431065973971748 -2.946572625418372,53.431076541473459 -2.946569727115047,53.43108015902061 -2.946549213606074,53.431106380706751 -2.946538966832699,53.431119941353764 -2.946551120985809,53.431125236462123 -2.946537916035438,53.431139719420052 -2.946492301237407,53.431186808610086 -2.946439419805824,53.431242042490588 -2.946420254809178,53.431261964080058 -2.946406630747749,53.431257578575845 -2.946368402435796,53.431302003374007 -2.94632151691531,53.431358987440269 -2.946286348090682,53.431401501247777 -2.946309568707377,53.431430073029432 -2.946286035320075,53.431454521757246 -2.946254494986799,53.431459265069606 -2.946207409641095,53.43150726377764 -2.946160345668372,53.431556162067473 -2.946111792242962,53.431605162024354 -2.946052931306077,53.431664936555514 -2.946048439611643,53.431669464681725 -2.946024368942968,53.431669655324214 -2.945972796669853,53.431716791510432 -2.945952061628029,53.431733130883067 -2.945918101270936,53.431763054437226 -2.945867938842412,53.431806584835563 -2.94583748770535,53.431793346515427 -2.945753790565171,53.431751774944459 -2.945717303392356,53.431734989803971 -2.945670131948919,53.43171199984814 -2.945660974328742,53.431707578898909 -2.945619922556579,53.431686337313728 -2.945594082934484,53.431673961291182 -2.945589451660025,53.431672201113301 -2.94556813986757,53.431662484951559 -2.945513442647567,53.431635959027034 -2.945460131889675,53.431610321870991 -2.945425112856343,53.431592536259949 -2.945350592473768,53.431556283182125 -2.945330789058361,53.431547453908443 -2.945262409844907,53.431513847881881 -2.94523958843857,53.431503244735623 -2.945187764811783,53.431477594785811 -2.945152769450145,53.43146079856006 -2.945119385821994,53.431443988672143 -2.945072233445202,53.431421897189487 -2.945040236238071,53.431405975179239 -2.944991555742787,53.431382097114401 -2.944944403499976,53.431360005578163 -2.94490639032626,53.43134143541053 -2.944903267345112,53.43134056124488 -2.944856076846788,53.431316672234708 -2.944840904848141,53.431309603082802 -2.94477853894402,53.431278555026694 -2.944746560371643,53.431263531657201 -2.944691820439076,53.431240600260388 -2.94467664698957,53.43123353109825 -2.944593111390612,53.43119914656608 -2.944590093410369,53.431197372691457 -2.944498868966365,53.431157656570548 -2.944410825870276,53.431121509806921 -2.944330267310124,53.431087100648014 -2.94428315704462,53.431066805350433 -2.944252667096395,53.431051769176811 -2.944173562779176,53.431010160146165 -2.944101982287041,53.430971995391701 -2.9440197155343,53.430927715537038 -2.944015065982118,53.430925055671061 -2.943962557032979,53.430929964088882 -2.943870995456861,53.430874973831301 -2.943768727384235,53.430812878924456 -2.943724540121624,53.430784472266495 -2.94350515137177,53.430667498692024 -2.943486942052492,53.430657757638699 -2.943213505774732,53.430818162334525 -2.943111025941314,53.430880976492965 -2.94221634929753,53.43139503430433 -2.941496964467869,53.431806071459775 -2.940971787836045,53.432087971803888 -2.940618256166396,53.432297527292974 -2.940388298109772,53.432314614299223 -2.940361447079535,53.432323811711555 -2.940258523309167,53.432366857233092 -2.939954855992311,53.432519315680615`,
                center: {lat: 7.119082288502541, lng: -73.120029012106},
                zoom: 5,
                paths: [
                    {
                        Id: 1, name: "Colombo", position: [
                            {lng: -73.077796936035, lat: 7.18019914627087},
                            {lng: -73.0765991210938, lat: 7.17500114440924},
                            {lng: -73.0805969238281, lat: 7.16109991073608},
                            {lng: -73.081199645996, lat: 7.14789915084839},
                            {lng: -73.0748977661132, lat: 7.13860082626343},
                            {lng: -73.0655975341797, lat: 7.13280010223394},
                            {lng: -73.0626983642578, lat: 7.12929916381836},
                            {lng: -73.0673980712889, lat: 7.1263999938966},
                            {lng: -73.0759963989258, lat: 7.10970115661621},
                            {lng: -73.084098815918, lat: 7.10449981689459},
                            {lng: -73.0943984985352, lat: 7.09769916534424},
                            {lng: -73.1088027954102, lat: 7.08269977569586},
                            {lng: -73.1156997680664, lat: 7.07289981842052},
                            {lng: -73.1231994628906, lat: 7.07060003280645},
                            {lng: -73.1300964355469, lat: 7.05680179595953},
                            {lng: -73.1393966674804, lat: 7.05340003967291},
                            {lng: -73.1473999023437, lat: 7.05050086975098},
                            {lng: -73.152099609375, lat: 7.05919981002808},
                            {lng: -73.1601028442383, lat: 7.06330013275158},
                            {lng: -73.1688003540039, lat: 7.06389999389648},
                            {lng: -73.1802978515624, lat: 7.06629991531383},
                            {lng: -73.1843032836913, lat: 7.07320117950451},
                            {lng: -73.1860961914062, lat: 7.08760023117071},
                            {lng: -73.1884002685546, lat: 7.1096010208131},
                            {lng: -73.1815032958984, lat: 7.12750101089489},
                            {lng: -73.1780014038085, lat: 7.15230083465588},
                            {lng: -73.1781005859374, lat: 7.17660093307501},
                            {lng: -73.1763000488281, lat: 7.18930006027233},
                            {lng: -73.1770782470703, lat: 7.19456291198725},
                            {lng: -73.1682968139647, lat: 7.19389915466314},
                            {lng: -73.1636962890624, lat: 7.1995987892152},
                            {lng: -73.1591033935547, lat: 7.20250082016003},
                            {lng: -73.1452026367187, lat: 7.211100101471},
                            {lng: -73.1360015869141, lat: 7.21739912033081},
                            {lng: -73.1261978149414, lat: 7.22079992294312},
                            {lng: -73.1199035644531, lat: 7.22370100021362},
                            {lng: -73.1118011474609, lat: 7.2241997718811},
                            {lng: -73.1078033447265, lat: 7.22540187835699},
                            {lng: -73.1054992675781, lat: 7.22540187835699},
                            {lng: -73.1054992675781, lat: 7.22129917144787},
                            {lng: -73.1048965454102, lat: 7.21269989013683},
                            {lng: -73.1048965454102, lat: 7.20340108871466},
                            {lng: -73.1031036376953, lat: 7.19760084152222},
                            {lng: -73.0973968505859, lat: 7.1911988258363},
                            {lng: -73.0915985107421, lat: 7.18540000915522},
                            {lng: -73.0864028930664, lat: 7.18370008468634},
                            {lng: -73.077796936035, lat: 7.18019914627087}]

                    }
                ]
            };

        },

        mounted() {
            this.callRest();


        },

        methods: {
            test(){
                let fn = this.buildCoordinatesArrayFromString(this.anfield);
                let temp = {
                    Id: 2, name: "Colombo", position: fn
                };
                //this.$set(this.paths, temp);
                this.paths.push(temp);
            },

            callRest() {


                console.log("Hello");
            },
            buildCoordinatesArrayFromString(MultiGeometryCoordinates) {
                var finalData = [];
                var grouped = MultiGeometryCoordinates.split(" ");

                grouped.forEach(function (item, i) {
                    let a = item.trim().split(',');

                    finalData.push({
                        lng: parseFloat(a[0]),
                        lat: parseFloat(a[1])
                    });
                });

                return finalData;
            }


        }
    };

</script>

<style scoped>

</style>